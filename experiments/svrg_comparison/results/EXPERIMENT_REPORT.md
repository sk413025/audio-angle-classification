# SVRG vs Adam 优化器性能比较实验报告

## 实验背景

在深度学习优化算法中，随机方差减少梯度（Stochastic Variance Reduced Gradient, SVRG）优化器是一种旨在缓解普通随机梯度下降收敛速度慢的问题而设计的优化算法。SVRG通过周期性计算全梯度来减少随机梯度的方差，从而加速收敛。本实验旨在比较SVRG优化器与标准的Adam优化器在音频角度分类任务中的性能差异。

## 实验目标

1. 评估SVRG优化器与Adam优化器在不同频率数据上的收敛速度
2. 比较两种优化器在训练和验证准确率方面的最终性能
3. 分析不同频率（500Hz、1000Hz、3000Hz）下优化器的表现差异
4. 探究SVRG方法的优势和局限性

## 实验设置

- **数据集**：音频角度分类数据集（材质：plastic）
- **频率**：500Hz、1000Hz、3000Hz
- **模型**：SimpleCNNAudioRanker
- **训练轮数**：30个epoch
- **批次大小**：32
- **学习率**：0.001（初始学习率，带衰减）
- **权重衰减**：1e-4
- **损失函数**：MarginRankingLoss

## 实验结果

### 500Hz频率

![500Hz对比](../summary/comparison_500hz_20250417_170347.png)

在500Hz频率数据上，实验结果表明：

- **训练损失**：SVRG在前期收敛略慢于Adam，但后期两者差距不大
- **验证损失**：两种优化器表现相近，但Adam整体略低
- **训练准确率**：SVRG最终达到约72%，而Adam达到约75%
- **验证准确率**：Adam最终准确率约84%，明显优于SVRG的约79%

### 1000Hz频率

![1000Hz对比](../summary/comparison_1000hz_20250417_171442.png)

在1000Hz频率数据上：

- **训练损失**：Adam收敛更快，最终损失值更低
- **验证损失**：两种优化器初期表现相近，但后期Adam明显优于SVRG
- **训练准确率**：两种优化器差距不大，最终Adam略优
- **验证准确率**：Adam最终达到约87%，而SVRG约为82%

### 3000Hz频率

![3000Hz对比](../summary/comparison_3000hz_20250417_172644.png)

在3000Hz频率数据上：

- **训练损失**：Adam收敛速度更快，最终损失值更低
- **验证损失**：Adam整体表现优于SVRG
- **训练准确率**：两种优化器达到相似的最终准确率，但Adam收敛更快
- **验证准确率**：两种优化器的最终验证准确率差距不大，但Adam在整个训练过程中表现更稳定

## 分析与讨论

1. **收敛速度**：在所有频率下，Adam优化器都表现出更快的收敛速度。SVRG虽然设计初衷是加速收敛，但在本实验中并未表现出优势。

2. **准确率表现**：Adam在各个频率数据上的验证准确率均高于或等于SVRG，特别是在500Hz和1000Hz频率上差距更为明显。

3. **稳定性**：Adam的训练过程更加稳定，损失曲线平滑度高于SVRG。SVRG在训练过程中出现了更多的波动，特别是在验证损失上。

4. **频率影响**：随着频率增加，两种优化器的性能差距有所减小，特别是在3000Hz频率数据上。这可能表明高频数据包含的特征对于优化算法的选择不那么敏感。

5. **计算开销**：虽然未在图表中直接体现，但实验过程记录显示SVRG的训练时间长于Adam，这是由于SVRG需要定期计算全梯度所导致的。

## 结论

基于本次实验结果，在音频角度分类任务中，Adam优化器整体上表现优于SVRG优化器，主要体现在：

1. 更快的收敛速度
2. 更高的验证准确率
3. 更稳定的训练过程
4. 更少的计算开销

SVRG算法虽然在理论上有减少梯度方差的优势，但在实际应用中可能受到多种因素影响，如模型结构、数据特性、超参数设置等。此外，音频数据的特殊性质可能也不利于充分发挥SVRG的优势。

## 下一步计划

1. **优化器参数调优**：对SVRG的内部参数进行更精细的调整，如调整全梯度计算的频率、学习率策略等

2. **更复杂模型测试**：在更深层次的神经网络上测试SVRG的表现，验证其在不同复杂度模型上的适用性

3. **梯度分析**：对两种优化器的梯度进行更深入的分析，探究SVRG在音频数据上表现不佳的原因

4. **混合优化策略**：尝试结合Adam和SVRG的优点，设计新的优化策略，如在训练前期使用Adam快速收敛，后期切换到SVRG微调

5. **不同任务比较**：在图像分类等其他任务上比较两种优化器的表现，验证SVRG的适用场景

通过上述计划，我们希望能够更全面地理解SVRG优化器的特性，并找到其在音频处理任务中的最佳应用方式。 